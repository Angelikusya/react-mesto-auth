{"ast":null,"code":"import _slicedToArray from\"/Users/anzhelika/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{api}from'../utils/api.js';import Card from'./Card.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userAvatar=_useState6[0],setUserAvatar=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cards=_useState8[0],setCards=_useState8[1];useEffect(function(){Promise.all([api.getUserInfo(),api.getInitialCards()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),userData=_ref2[0],cardsData=_ref2[1];setUserName(userData.name);setUserDescription(userData.about);setUserAvatar(userData.avatar);setCards(cardsData);}).catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"page\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__content\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"profile__edit-avatar\",id:\"edit-avatar-button\",type:\"button\",onClick:props.onEditAvatar,children:[/*#__PURE__*/_jsx(\"div\",{alt:\"\\u0430\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\",className:\"profile__avatar\",style:{backgroundImage:\"url(\".concat(userAvatar,\")\"),backgroundSize:'cover'}}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__edit-avatar-icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__container\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"profile__name\",className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button profile__edit-button\",onClick:props.onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{id:\"profile__job\",className:\"profile__job\",children:userDescription})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button profile__add-button\",onClick:props.onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,name:card.name,src:card.link,likes:card.likes.length,onCardClick:props.onCardClick},card._id);})})]});}export default Main;// {/*Шаблон для ввода новых картинок*/}\n// <template className=\"element-template\" id=\"element-template\" />","map":{"version":3,"names":["useState","useEffect","api","Card","jsx","_jsx","jsxs","_jsxs","Main","props","_useState","_useState2","_slicedToArray","userName","setUserName","_useState3","_useState4","userDescription","setUserDescription","_useState5","_useState6","userAvatar","setUserAvatar","_useState7","_useState8","cards","setCards","Promise","all","getUserInfo","getInitialCards","then","_ref","_ref2","userData","cardsData","name","about","avatar","catch","err","console","log","className","children","id","type","onClick","onEditAvatar","alt","style","backgroundImage","concat","backgroundSize","onEditProfile","onAddPlace","map","card","src","link","likes","length","onCardClick","_id"],"sources":["/Users/anzhelika/Desktop/dev/mesto-react/src/components/Main.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport {api} from '../utils/api.js';\nimport Card from './Card.js';\n\n\nfunction Main(props) {\n    const [userName, setUserName] = useState('');\n    const [userDescription, setUserDescription] = useState('');\n    const [userAvatar, setUserAvatar] = useState('');\n    const [cards, setCards] = useState([]);\n\n    useEffect(() => {\n        Promise.all([api.getUserInfo(), api.getInitialCards()])\n        .then(([userData, cardsData]) => {\n            setUserName(userData.name);\n            setUserDescription(userData.about);\n            setUserAvatar(userData.avatar);\n          \n            setCards(cardsData);\n        })\n        .catch(err => console.log(err));\n    }, []);\n\n    return(\n    <main className=\"page\">\n        <section className=\"profile\">\n            <div className=\"profile__content\">\n                <button \n                    className=\"profile__edit-avatar\"\n                    id=\"edit-avatar-button\"\n                    type=\"button\"                     \n                    onClick={props.onEditAvatar}\n                >\n                    <div alt=\"аватар профиля\" \n                        className=\"profile__avatar\" \n                        style={{ backgroundImage: `url(${userAvatar})`, backgroundSize: 'cover' }} \n                    />\n                    <div className=\"profile__edit-avatar-icon\" />\n                </button> \n                <div className=\"profile__info\">\n                    <div className=\"profile__container\">\n                        <h1 id=\"profile__name\" className=\"profile__name\">{userName}</h1>\n                        <button\n                            type=\"button\"\n                            className=\"button profile__edit-button\"\n                            onClick={props.onEditProfile}\n                        >\n                        </button>\n                    </div>\n                    <p id=\"profile__job\" className=\"profile__job\">{userDescription}</p>\n                </div>\n            </div>\n            <button \n                type=\"button\" \n                className=\"button profile__add-button\"\n                onClick={props.onAddPlace}\n                >\n            </button>\n        </section>\n\n        <section className=\"elements\">\n                {cards.map((card) => (\n                    <Card \n                        key={card._id} \n                        card={card} \n                        name={card.name} \n                        src={card.link} \n                        likes={card.likes.length}\n                        onCardClick={props.onCardClick}\n                    />\n                ))}\n            </section>\n        </main>\n    );\n}\n\nexport default Main;\n\n\n \n        // {/*Шаблон для ввода новых картинок*/}\n        // <template className=\"element-template\" id=\"element-template\" />"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}